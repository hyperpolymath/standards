IANA Media Type Registration: application/vnd.a2ml
=========================================================

This is the formal registration template for the A2ML media type with IANA.

Submission Date: 2026-01-30
Submitted By: Jonathan D.A. Jewell <jonathan.jewell@open.ac.uk>

---

Type name:
  application

Subtype name:
  vnd.a2ml

Required parameters:
  None

Optional parameters:
  charset
    If specified, MUST be "utf-8". SHOULD NOT be specified if the document
    contains opaque payloads with arbitrary binary content.

Encoding considerations:
  binary

  A2ML documents are primarily UTF-8 text but MAY include opaque payload
  blocks containing arbitrary binary data. Implementations MUST preserve
  byte-for-byte fidelity of opaque blocks.

  A2ML documents use LF (U+000A) line endings by convention but parsers
  MUST accept CR+LF (U+000D U+000A) as well.

Security considerations:
  A2ML is a document markup format similar to Markdown and AsciiDoc. It is
  not executable by itself and does not contain active content.

  However, A2ML MAY embed opaque payload blocks (using the @opaque directive)
  that can contain code, scripts, or other executable content. Processors
  MUST treat opaque payloads as untrusted data and MUST NOT execute embedded
  content by default.

  If an implementation offers execution or evaluation features (e.g., running
  code blocks in a REPL environment), it MUST:
  - Operate in a sandboxed context with restricted privileges
  - Require explicit user consent before execution
  - Clearly indicate which content is being executed
  - Provide mechanisms to disable execution entirely

  A2ML documents support cryptographic attestation via Ed25519 signatures
  for opaque payloads. Implementations that verify signatures MUST check:
  - Signature validity
  - Timestamp authenticity
  - Certificate chain integrity

  Privacy considerations:
  - A2ML documents may contain personal identifiable information (PII) in
    author metadata, abstracts, or content blocks
  - Implementations SHOULD provide mechanisms to redact or strip metadata
    when sharing documents
  - Opaque payloads may contain sensitive data and SHOULD be inspected
    before transmission

  Integrity considerations:
  - A2ML supports cryptographic attestation of document structure and content
  - Implementations MAY verify document integrity using provided signatures
  - Documents without signatures SHOULD be treated as unverified

  See security section of the A2ML specification for complete details:
  https://github.com/hyperpolymath/a2ml/blob/main/SPEC.a2ml

Interoperability considerations:
  A2ML is designed for cross-platform interoperability.

  Character encoding:
  - Primary encoding: UTF-8 (RFC 3629)
  - Line endings: LF (U+000A) preferred, CR+LF (U+000D U+000A) accepted
  - Byte Order Mark (BOM): Optional U+FEFF at document start

  Opaque payload preservation:
  - Parsers MUST preserve byte-for-byte fidelity of @opaque block contents
  - Renderers MAY transform opaque content for display purposes only
  - Original bytes MUST be available for attestation and verification

  Progressive strictness:
  - Lax mode: Permissive parsing, warnings only
  - Checked mode: Structural validation required (IDs, references)
  - Attested mode: Cryptographic attestation required

  Implementations SHOULD support all three modes to ensure interoperability
  across different use cases (authoring vs. publication).

  Rendering targets:
  - A2ML is renderer-agnostic and can be converted to:
    - Markdown (CommonMark)
    - HTML5
    - Djot
    - LaTeX
    - Plain text
  - Implementations SHOULD preserve semantic structure during conversion

  See interoperability section of the A2ML specification for details:
  https://github.com/hyperpolymath/a2ml/blob/main/SPEC.a2ml

Published specification:
  The A2ML specification is published at:
  https://github.com/hyperpolymath/a2ml/blob/main/SPEC.a2ml

  The specification is also available as:
  - AsciiDoc: https://github.com/hyperpolymath/a2ml/blob/main/SPEC.adoc
  - PDF (via arXiv): arXiv:XXXX.XXXXX [will be updated after acceptance]

  Formal verification:
  The A2ML typed core is implemented in Idris2 with dependent types and
  formal proofs. The implementation is available at:
  https://github.com/hyperpolymath/a2ml/tree/main/src/A2ML

Applications which use this media type:
  - A2ML compilers and validators (a2ml CLI tool)
  - Static site generators that consume A2ML documents
  - Document management systems requiring formal structure guarantees
  - Academic publishing workflows for papers and specifications
  - Technical documentation with verifiable cross-references
  - Standards bodies requiring attested document integrity

  Reference implementation:
  https://github.com/hyperpolymath/a2ml

Fragment identifier considerations:
  Fragment identifiers for A2ML documents refer to element IDs.

  Syntax:
    #<id>

  Where <id> is a valid A2ML identifier matching: [A-Za-z][A-Za-z0-9:_-]*

  Examples:
    - #intro - References a section with id="intro"
    - #fig:results - References a figure with id="fig:results"
    - #tab:data - References a table with id="tab:data"

  Resolution:
    1. Fragment MUST match an element with the specified ID
    2. If no match, user agent SHOULD ignore fragment (no error)
    3. User agent MAY scroll to or highlight the referenced element

  ID uniqueness:
    In attested mode, A2ML enforces unique IDs via dependent type proofs.
    In checked mode, duplicate IDs are validation errors.
    In lax mode, duplicate IDs generate warnings.

Restrictions on usage:
  None

Additional information:

  Deprecated alias names for this type:
    None

  Magic number(s):
    None. A2ML is a text-based format identified by:
    - File extension: .a2ml
    - Content detection: Presence of A2ML-specific directives (@abstract:,
      @refs:, @opaque:, etc.) or heading markers followed by A2ML structure

  File extension(s):
    .a2ml

  Macintosh file type code(s):
    None (not applicable to modern systems)

  Object Identifier(s) or OID(s):
    None

Person & email address to contact for further information:
  Jonathan D.A. Jewell
  jonathan.jewell@open.ac.uk
  The Open University
  Milton Keynes, United Kingdom

Intended usage:
  COMMON

  A2ML is intended for general-purpose document authoring where structural
  integrity, cross-reference validation, and long-term preservation are
  important. Typical use cases include:
  - Academic papers and dissertations
  - Technical specifications and standards documents
  - API documentation with guaranteed structure
  - Regulatory compliance documents
  - Archival documents requiring cryptographic attestation

Author/Change controller:
  Jonathan D.A. Jewell
  The Open University
  Email: jonathan.jewell@open.ac.uk

  The A2ML specification and reference implementation are open source under
  the PMPL-1.0-or-later license. Changes to the specification are managed
  through the GitHub repository with community review.

Provisional registration: No

---

Submitter's Contact Information:

Name: Jonathan D.A. Jewell
Email: jonathan.jewell@open.ac.uk
Affiliation: The Open University
Address: Milton Keynes, MK7 6AA, United Kingdom
Phone: [Available upon request]

---

Submission Instructions:

1. Submit this registration to IANA via email:
   To: iana@iana.org
   Cc: media-types@iana.org
   Subject: Media Type Registration: application/vnd.a2ml

2. Include this complete template as plain text attachment

3. IANA will review and may request clarifications

4. Upon approval, IANA will publish at:
   https://www.iana.org/assignments/media-types/application/vnd.a2ml

---

References:

[1] RFC 6838 - Media Type Specifications and Registration Procedures
    https://www.rfc-editor.org/rfc/rfc6838.html

[2] A2ML Specification (v1.0.0)
    https://github.com/hyperpolymath/a2ml/blob/main/SPEC.a2ml

[3] A2ML Idris2 Core Implementation
    https://github.com/hyperpolymath/a2ml/tree/main/src/A2ML

[4] arXiv Paper: A2ML: A Lightweight Markup Language with Formal Proof Obligations
    arXiv:XXXX.XXXXX [pending submission]

---

Change Log:

2026-01-30: Initial registration template created

= .scm Format Family - Unified Standards Strategy
:toc: left
:toclevels: 3
:sectnums:
:icons: font

== Executive Summary

This document presents a unified standardization strategy for the .scm Format
Family, comprising META.scm and STATE.scm. Rather than pursuing separate
standards tracks, we recommend a coordinated approach that leverages shared
infrastructure while allowing each format to evolve independently.

== Strategic Rationale

=== Why Unified?

[cols="1,3"]
|===
|Benefit |Description

|*Shared Parser Infrastructure*
|One S-expression parser serves all formats, reducing implementation burden

|*Cross-Format Tooling*
|Linters, validators, and IDEs can support the entire family

|*Consistent User Experience*
|Developers learn one syntax for multiple purposes

|*Stronger Standards Case*
|Family of formats demonstrates broader applicability

|*Efficient Standards Process*
|Single working group, coordinated submissions
|===

=== Why Not Merged?

META.scm and STATE.scm serve distinct purposes:

[cols="1,2,2"]
|===
|Aspect |META.scm |STATE.scm

|*Lifetime*
|Long-lived (years)
|Short-lived (hours/days)

|*Authors*
|Humans (architects, developers)
|Machines (AI systems)

|*Update Frequency*
|Rare (decisions, policy changes)
|Continuous (every interaction)

|*Versioning*
|Git-tracked, reviewed
|Auto-generated, rotated

|*Primary Consumer*
|Developers, documentation tools
|AI systems, automation
|===

Separate specifications allow independent evolution while sharing foundations.


== Phased Standardization Roadmap

=== Phase 1: Foundation (Months 0-6)

==== Deliverables

[cols="1,3,1"]
|===
|Item |Description |Owner

|*Shared S-Expression Grammar*
|`shared/s-expression.abnf` - Common ABNF primitives
|Complete

|*Shared JSON Schema*
|`shared/scm-common.schema.json` - Reusable definitions
|Complete

|*META.scm Specification*
|Complete format spec with ABNF and JSON Schema
|Complete

|*STATE.scm Specification*
|Complete format spec (parallel effort)
|In Progress

|*Reference Parser*
|TypeScript/Deno parser for .scm family
|Planned

|*Format Family Overview*
|`SCM-FORMAT-FAMILY.adoc` - Umbrella document
|Complete
|===

==== Success Criteria

* [ ] Both format specifications complete and reviewed
* [ ] Shared grammar validated against both formats
* [ ] Reference parser handles META and STATE files
* [ ] 5+ projects using each format

=== Phase 2: IANA Registration (Months 6-12)

==== Media Type Strategy

Register as a coordinated family:

----
application/meta+scheme     ; META.scm format
application/state+scheme    ; STATE.scm format
----

Both use `+scheme` suffix indicating Scheme S-expression syntax.

==== Submission Timeline

[cols="1,2,2"]
|===
|Month |Action |Status

|6
|Submit provisional registrations for both types
|Planned

|8
|Address IANA reviewer feedback
|Planned

|10
|Provisional registrations approved
|Planned

|12+
|Upgrade to permanent with RFC reference
|Planned
|===

==== Registration Documents

* `IANA-MEDIA-TYPE.adoc` (META.scm) - Complete
* `IANA-MEDIA-TYPE-STATE.adoc` (STATE.scm) - To be created

=== Phase 3: IETF Internet-Draft (Months 12-24)

==== Document Structure

**Option A: Single I-D with Multiple Formats**

----
draft-jewell-scm-format-family-00

1. Introduction
2. Shared S-Expression Syntax
3. META.scm Format
4. STATE.scm Format
5. Cross-Format Integration
6. Security Considerations
7. IANA Considerations
----

**Option B: I-D Series (Recommended)**

----
draft-jewell-scm-syntax-00        ; Core S-expression grammar
draft-jewell-scm-meta-00          ; META.scm specification
draft-jewell-scm-state-00         ; STATE.scm specification
----

Recommendation: **Option B** for:

* Independent versioning of each format
* Easier review (smaller documents)
* Flexibility for future formats

==== IETF Area Selection

Primary: **ART (Applications and Real-Time)**

* Handles data format specifications
* Precedent: JSON, iCalendar, GeoJSON

Alternative: **DISPATCH**

* For cross-area work
* If AI/automation aspects need broader review

==== Working Group Strategy

1. **Initial Submission**: Individual I-Ds, no WG
2. **If Interest**: Propose BOF at IETF meeting
3. **If Sufficient Interest**: Form dedicated WG or join existing

=== Phase 4: Ecosystem Integration (Months 24-36)

==== SPDX Alignment

STATE.scm references software metadata that SPDX also tracks:

[cols="1,1,2"]
|===
|SPDX Field |.scm Equivalent |Integration

|PackageName
|META: project name
|Direct mapping

|PackageLicenseConcluded
|META: SPDX header
|Reference SPDX ID

|PackageVersion
|META/STATE: version fields
|SemVer compatible

|Relationship
|STATE: dependency tracking
|Potential extension
|===

Proposal: Define SPDX extension for .scm format references.

==== JSON-LD Context

For web integration, define JSON-LD contexts:

----
https://scm-format.org/context/meta.jsonld
https://scm-format.org/context/state.jsonld
----

Enables:

* Schema.org vocabulary alignment
* Linked data compatibility
* Semantic web tooling

==== IDE Integration

Target integrations:

[cols="1,2"]
|===
|IDE |Integration Type

|VS Code
|Extension with syntax highlighting, validation, snippets

|JetBrains
|Plugin for IntelliJ family

|Neovim/Vim
|Tree-sitter grammar, LSP server

|Emacs
|Major mode (natural fit for S-expressions)
|===

=== Phase 5: ISO Consideration (Year 5+)

==== Prerequisites

* Widespread adoption (1000+ projects)
* Multiple independent implementations
* Enterprise demand for formal certification
* Resources for multi-year process

==== ISO/IEC JTC 1 Path

Relevant subcommittees:

* **SC 7**: Software and systems engineering
* **SC 32**: Data management and interchange

Process:

1. Identify national body sponsor
2. Submit as New Work Item Proposal (NWIP)
3. Working draft → Committee draft → Final draft
4. International Standard publication

Timeline: 3-5 years from initiation


== Resource Allocation

=== Phase 1-2 (Community + IANA)

[cols="1,2,1"]
|===
|Resource |Activity |Effort

|Specification
|Complete STATE.scm spec, review both
|40 hours

|Implementation
|Reference parser in TypeScript
|80 hours

|Documentation
|Examples, tutorials, migration guides
|40 hours

|Community
|GitHub, blog posts, conference talks
|Ongoing
|===

=== Phase 3 (IETF)

[cols="1,2,1"]
|===
|Resource |Activity |Cost

|I-D Writing
|Convert specs to RFC format
|60 hours

|IETF Participation
|Meeting attendance (optional)
|$2-5k per meeting

|Review Response
|Address IESG/community feedback
|40 hours
|===

=== Phase 4 (Ecosystem)

[cols="1,2,1"]
|===
|Resource |Activity |Effort

|SPDX Integration
|Extension proposal, implementation
|40 hours

|JSON-LD Context
|Define and publish contexts
|20 hours

|IDE Extensions
|VS Code extension development
|80 hours
|===


== Governance Model

=== Decision Making

[cols="1,3"]
|===
|Change Type |Process

|*Shared Grammar Changes*
|RFC process, impacts all formats, requires consensus

|*Format-Specific Changes*
|Follow individual format's VERSION-POLICY.adoc

|*New Format Addition*
|Proposal → Community review → Maintainer approval

|*Standards Submission*
|Community consensus, maintainer execution
|===

=== Roles

[cols="1,3"]
|===
|Role |Responsibilities

|*Format Family Maintainer*
|Shared infrastructure, cross-format coordination

|*Format Maintainer*
|Individual format specification, implementations

|*Contributor*
|Issues, PRs, implementations, documentation
|===


== Risk Management

[cols="1,1,2,2"]
|===
|Risk |Impact |Mitigation |Contingency

|Format divergence
|Medium
|Shared grammar enforcement, regular sync
|Deprecate divergent features

|Low adoption
|High
|Compelling tooling, clear documentation
|Focus on niche use cases

|IETF process stall
|Medium
|Build community support early
|Pursue W3C Community Group

|Maintainer burnout
|High
|Build contributor community
|Succession planning

|Competing formats
|Medium
|Differentiate on Scheme syntax
|Consider format bridges
|===


== Success Metrics

=== Phase 1 (Foundation)

* [ ] Both specifications complete
* [ ] Reference parser released
* [ ] 10+ projects using META.scm
* [ ] 5+ projects using STATE.scm
* [ ] 100+ GitHub stars combined

=== Phase 2 (IANA)

* [ ] Both media types provisionally registered
* [ ] No blocking community objections
* [ ] Types recognized by major HTTP libraries

=== Phase 3 (IETF)

* [ ] All I-Ds submitted
* [ ] Working group interest confirmed
* [ ] Clear path to RFC publication

=== Long-term

* [ ] 1000+ projects using .scm formats
* [ ] Major IDE native support
* [ ] RFC publication
* [ ] IANA permanent registration


== Appendix A: Comparable Standards Efforts

[cols="1,2,2,1"]
|===
|Format Family |Approach |Outcome |Timeline

|OpenAPI + JSON Schema
|Coordinated but separate specs
|Both widely adopted
|~5 years

|SPDX
|Single spec, multiple serializations
|ISO standard
|~10 years

|iCalendar + vCard
|Related RFCs, shared concepts
|Both RFC standards
|~15 years

|GeoJSON + TopoJSON
|Community spec → RFC (GeoJSON)
|RFC 7946
|~5 years
|===

The .scm Format Family follows the OpenAPI model: coordinated development
with separate specifications.


== Appendix B: Standards Body Comparison

[cols="1,1,1,1,1"]
|===
|Body |Scope Fit |Timeline |Barrier |Recognition

|IETF
|★★★★☆
|18-36 mo
|Medium
|★★★★★

|IANA
|★★★★★
|3-6 mo
|Low
|★★★★★

|W3C
|★★★☆☆
|24-48 mo
|High
|★★★★★

|ISO
|★★★☆☆
|36-60 mo
|Very High
|★★★★★

|SPDX/LF
|★★★★☆
|6-18 mo
|Low
|★★★★☆
|===

Recommendation: IETF (primary) + IANA (required) + SPDX (complementary)


== Document History

[cols="1,1,3"]
|===
|Version |Date |Changes

|1.0.0-draft.1
|2025-12
|Initial unified strategy document
|===

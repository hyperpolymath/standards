// SPDX-License-Identifier: MPL-2.0-or-later
// SPDX-FileCopyrightText: 2025 Jonathan D.A. Jewell
= NEUROSYM.scm Specification
:doctype: book
:toc: left
:toclevels: 3
:sectnums:
:source-highlighter: highlight.js
:icons: font

image:https://img.shields.io/badge/License-MPL_2.0-blue.svg[MPL-2.0-or-later,link="https://opensource.org/licenses/MPL-2.0"]
image:https://img.shields.io/badge/Philosophy-Palimpsest-indigo.svg[Palimpsest,link="https://github.com/hyperpolymath/palimpsest-license"]
image:https://img.shields.io/badge/format-SCM_Family-orange.svg[SCM Family,link="https://github.com/hyperpolymath/standards"]

== License & Philosophy

This project must declare **MPL-2.0-or-later** for platform/tooling compatibility.

Philosophy: **Palimpsest**. The Palimpsest-MPL (PMPL) text is provided in `license/PMPL-1.0.txt`, and the canonical source is the palimpsest-license repository.

== Overview

NEUROSYM.scm defines **symbolic semantics** for operations. It specifies *meaning* -
composition rules, inversion semantics, and proof obligations - separate from
permission (META) or operational gating (AGENTIC).

NEUROSYM defines meaning. It does not grant permission.

Key capabilities:

* **Operation Semantics** - Forward and inverse definitions
* **Composition Rules** - How operations safely combine
* **Proof Obligations** - Verification interfaces for claims
* **Type System** - Semantic types for operations and data

== SCM Format Family

This specification is part of the SCM Format Family:

[cols="1,2,3"]
|===
|Format |Repository |Purpose

|META.scm
|https://github.com/hyperpolymath/meta-scm[meta-scm]
|Constitutional authority, architecture decisions

|STATE.scm
|Companion to META
|Project state tracking

|ECOSYSTEM.scm
|Companion to META
|Ecosystem positioning

|PLAYBOOK.scm
|https://github.com/hyperpolymath/playbook-scm[playbook-scm]
|Executable plans derived from META

|AGENTIC.scm
|https://github.com/hyperpolymath/agentic-scm[agentic-scm]
|Operational gating for AI agents

|**NEUROSYM.scm**
|https://github.com/hyperpolymath/neurosym-scm[neurosym-scm] (this repo)
|**Symbolic semantics, proof obligations**

|ANCHOR.scm
|https://github.com/hyperpolymath/anchor-scm[anchor-scm]
|Project recalibration/realignment
|===

All formats are satellites of https://github.com/hyperpolymath/standards[hyperpolymath/standards].

== Execution Pipeline Position

NEUROSYM operates at step 3 in the execution pipeline:

[source]
----
1. META validation      ← Constitutional authority check
2. AGENTIC gating       ← Operational safety
3. NEUROSYM semantics   ← THIS SPECIFICATION
4. PLAYBOOK derivation  ← Build executable plan
5. Execution
6. ECOSYSTEM check
7. STATE update
----

== Key Concepts

=== Claim Types

Operations produce claims with different verification levels:

* **verified** - Operation outcome can be proven correct
* **unverified** - Outcome claimed but not proven
* **compensable** - Can be undone via compensating action
* **irreversible** - Cannot be undone

=== Proof Obligations

All claimed properties MUST have associated proof obligations:

[source,scheme]
----
(define proof-obligations
  '((content-integrity
     (description . "Verify content has not been corrupted")
     (verification-method . "hash-comparison")
     (failure-action . "downgrade-to-unverified"))))
----

Failure to discharge a proof obligation MUST downgrade the claim. Claims are
NEVER silently preserved at a higher level than proven.

=== Composition Safety

When operations compose, claim types propagate conservatively:

* Sequential composition: weakest claim wins
* Parallel composition: weakest claim wins
* Conditional: branch-specific

== Quick Start

=== Minimal NEUROSYM.scm

[source,scheme]
----
(define-module (my-project neurosym)
  #:export (operation-definitions))

(define operation-definitions
  '((file-read
     (forward-semantics . "Return file contents")
     (inverse . #f)
     (claim-type . "verified")
     (entropy-contribution . 1))))
----

See `examples/` for more complete examples.

== Specification

The complete normative specification is in link:spec/NEUROSYM-FORMAT-SPEC.adoc[spec/NEUROSYM-FORMAT-SPEC.adoc].

== Repository Structure

[source]
----
neurosym-scm/
├── spec/
│   └── NEUROSYM-FORMAT-SPEC.adoc   # Normative specification
├── examples/
│   ├── minimal.scm                  # Minimal valid NEUROSYM file
│   └── comprehensive.scm            # Full-featured example
├── .machine_readable/
│   ├── STATE.scm                    # Project state
│   ├── META.scm                     # Architecture decisions
│   └── ECOSYSTEM.scm                # Ecosystem position
└── README.adoc                      # This file
----

== Contributing

Contributions are welcome. Please ensure:

* All changes follow the normative specification
* Examples validate against the spec
* SPDX license headers on all files

== License

PMPL-1.0-or-later. See LICENSE.

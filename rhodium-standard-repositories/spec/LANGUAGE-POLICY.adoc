// SPDX-License-Identifier: MPL-2.0-or-later
// SPDX-FileCopyrightText: 2024-2025 hyperpolymath

= RSR Language Policy
:author: hyperpolymath
:revnumber: 1.0.0
:revdate: 2025-12-27
:toc: left
:icons: font
:source-repo: https://github.com/hyperpolymath/cccp

[NOTE]
====
*Version Status*: v1.0.0 *FROZEN* â€” Language allowed/banned lists are immutable.
====

== Overview

This document defines the language policy for Rhodium Standard Repositories. The policy is derived from the *Campaign for Cooler Coding and Programming (CCCP)*.

NOTE: For full rationale and migration guides, see the link:{source-repo}[CCCP repository].

== Allowed Languages

[cols="1,2,2"]
|===
| Language | Use Case | Notes

| *ReScript*
| Primary application code
| Compiles to JS, OCaml type safety

| *Rust*
| Systems, performance, WASM
| Preferred for CLI tools

| *Deno*
| Runtime & package management
| Replaces Node/npm/Bun

| *Gleam*
| Backend services
| BEAM or JS target

| *OCaml*
| Compilers, formal methods
| Strong type system

| *Ada*
| Safety-critical systems
| SPARK verification

| *Julia*
| Data processing, batch scripts
| High-performance numerics

| *Guile Scheme*
| State/meta files
| STATE.scm, META.scm, ECOSYSTEM.scm

| *Nickel*
| Configuration language
| Type-safe configs

| *Bash/POSIX Shell*
| Scripts, automation
| Keep minimal
|===

== Banned Languages

[cols="1,2,2"]
|===
| Banned | Replacement | Rationale

| *TypeScript*
| ReScript
| Unsound gradual typing

| *Node.js*
| Deno
| Insecure by default

| *npm/Bun/pnpm/yarn*
| Deno
| Supply chain risks

| *Go*
| Rust
| Error handling, generics

| *Python* (general)
| ReScript/Rust
| No static types

| *Java/Kotlin*
| Rust
| JVM overhead

| *Swift*
| Tauri/Dioxus
| Platform lock-in
|===

=== Exception: SaltStack

Python is permitted *only* for SaltStack configuration management. This is a temporary exception pending migration to Nickel-based infrastructure.

== Mobile Development

No exceptions for Kotlin/Swift. Use Rust-first approach:

1. *Tauri 2.0+* - Web UI (ReScript) + Rust backend
2. *Dioxus* - Pure Rust native UI

Both are FOSS with independent governance.

== Package Management

[cols="1,2"]
|===
| Priority | Tool

| *Primary*
| Guix (guix.scm)

| *Fallback*
| Nix (flake.nix)

| *JS deps*
| Deno (deno.json imports)
|===

== Migration Priority

When encountering banned languages:

1. *Immediate*: Block new code in banned languages
2. *Short-term*: Convert TypeScript to ReScript
3. *Medium-term*: Replace Node/npm with Deno
4. *Long-term*: Rewrite Go/Python in Rust

== Machine-Readable Policy

See link:../spec.scm/language-policy.scm[spec.scm/language-policy.scm] for tooling integration.

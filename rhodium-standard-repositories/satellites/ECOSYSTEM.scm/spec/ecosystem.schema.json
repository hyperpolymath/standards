{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ecosystem.scm/schema/1.0.0/ecosystem.schema.json",
  "title": "ECOSYSTEM.scm JSON Representation",
  "description": "JSON Schema for validating ECOSYSTEM.scm documents converted to JSON format",
  "type": "object",
  "required": ["version", "name", "type", "purpose"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Semantic version of this ecosystem document",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "examples": ["1.0.0", "2.1.0-alpha.1", "0.1.0-draft"]
    },
    "name": {
      "type": "string",
      "description": "Canonical name of the project",
      "minLength": 1,
      "examples": ["mobile-ai-orchestrator", "ECOSYSTEM.scm"]
    },
    "type": {
      "type": "string",
      "description": "Category of software this project represents",
      "examples": ["library", "application", "service", "specification", "framework", "tool", "plugin", "extension", "template"]
    },
    "purpose": {
      "type": "string",
      "description": "Concise description of the project's purpose",
      "minLength": 1
    },
    "position-in-ecosystem": {
      "type": "string",
      "description": "Explanation of where this project fits in the broader ecosystem"
    },
    "what-this-is": {
      "type": "string",
      "description": "Detailed explanation of what the project provides"
    },
    "what-this-is-not": {
      "type": "string",
      "description": "Explicit statement of what the project does NOT do"
    },
    "future-integration": {
      "type": "string",
      "description": "Planned or potential future integrations"
    },
    "related-projects": {
      "type": "array",
      "description": "List of related projects in the ecosystem",
      "items": {
        "$ref": "#/$defs/project"
      }
    },
    "specification": {
      "$ref": "#/$defs/specification"
    }
  },
  "patternProperties": {
    "^x-[a-z]+-": {
      "description": "Vendor extension field"
    },
    "^x-exp-": {
      "description": "Experimental extension field"
    }
  },
  "additionalProperties": true,
  "$defs": {
    "project": {
      "type": "object",
      "description": "A related project in the ecosystem",
      "required": ["name", "relationship"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the related project",
          "minLength": 1
        },
        "url": {
          "type": "string",
          "description": "URL to the project",
          "format": "uri"
        },
        "relationship": {
          "type": "string",
          "description": "Type of relationship to this project",
          "examples": [
            "consumer",
            "producer",
            "sibling",
            "sibling-standard",
            "complementary",
            "alternative",
            "inspiration",
            "fork",
            "upstream",
            "downstream",
            "potential-consumer",
            "deprecated-by",
            "deprecates"
          ]
        },
        "description": {
          "type": "string",
          "description": "Brief description of the related project"
        },
        "differentiation": {
          "type": "string",
          "description": "How this project differs from the related project"
        },
        "integration-notes": {
          "type": "string",
          "description": "Notes on integration between projects"
        }
      },
      "patternProperties": {
        "^x-[a-z]+-": {
          "description": "Vendor extension field"
        }
      },
      "additionalProperties": true
    },
    "specification": {
      "type": "object",
      "description": "Technical metadata about the format specification",
      "properties": {
        "format": {
          "type": "string",
          "description": "The syntax format",
          "examples": ["S-expression (symbolic expression)"]
        },
        "encoding": {
          "type": "string",
          "description": "Character encoding",
          "enum": ["UTF-8"],
          "default": "UTF-8"
        },
        "file-extension": {
          "type": "string",
          "description": "Standard file extension",
          "examples": [".scm", ".ecosystem.scm", ".ecosystem"]
        },
        "media-type": {
          "type": "string",
          "description": "IANA media type",
          "pattern": "^[a-z]+/[a-z0-9.+-]+$",
          "examples": ["application/vnd.ecosystem+scm"]
        },
        "grammar-definition": {
          "type": "string",
          "description": "Path to formal grammar definition"
        },
        "json-schema": {
          "type": "string",
          "description": "Path to JSON Schema"
        }
      },
      "additionalProperties": true
    },
    "relationship-type": {
      "type": "string",
      "description": "Standard relationship types between projects",
      "enum": [
        "consumer",
        "producer",
        "sibling",
        "sibling-standard",
        "complementary",
        "alternative",
        "inspiration",
        "fork",
        "upstream",
        "downstream",
        "potential-consumer",
        "deprecated-by",
        "deprecates"
      ]
    }
  }
}
